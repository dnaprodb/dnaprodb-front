<!DOCTYPE html>
<html lang="en">

<head>
    {% if jobready %} {% if pdb_structure == "true" %}
    <title>Report for PDB Structure {{structure_title}}</title>
    {% else %}
    <title>Report for Uploaded Structure {{structure_title}}</title>
    {% endif %} {% else %}
    <title>Report Unavailable</title>
    {% endif %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap Code/Bootstrap Plugins -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/sumoselect.css" type="text/css" />
    <link rel="stylesheet" href="/css/font-awesome-4.7.0/css/font-awesome.min.css">

    <!-- Visualization Style Sheet -->
    <link rel="stylesheet" href="/css/visualizations.css?v=1" type="text/css" />

    <!-- Custom JS/CSS and Plugins -->
    <link rel="stylesheet" href="/css/main.css?v=1488920049">
    <link rel="stylesheet" href="/css/report.css?v=1498001111">
    <link rel="stylesheet" href="/css/big-json-viewer.css?v=1">

    <link rel="apple-touch-icon" sizes="57x57" href="/fav.ico/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/fav.ico/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/fav.ico/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/fav.ico/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/fav.ico/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/fav.ico/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/fav.ico/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/fav.ico/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/fav.ico/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/fav.ico/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/fav.ico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/fav.ico/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/fav.ico/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    {{nav}} {% if jobready %}
    <main class="container-fluid">
        <h3 class="text-center my-2">
            <label class="mr-2">Structure Name: <span id="structure_name" class="font-weight-bold"></span></label>
            <label class="mr-2"><i class="fa fa-info-circle" onclick="glossary('model')"></i> model selection: <span id="current_model" class="font-weight-bold"></span></label>
            <label class="mr-2"><i class="fa fa-info-circle" onclick="glossary('dna_entities')"></i> DNA entity selection: <span id="current_dna_entity" class="font-weight-bold"></span></label>
            <label class="mr-2">protein chains selection: <span id="current_protein_chains" class="font-weight-bold"></span></label>
        </h3>
        <div class="row">
            <!-- Left Column -->
            <div class="col-xl-5 col-lg-12" style="padding-right:20px; border-right: 1px solid rgba(0, 0, 0, 0.1);">
                <ul class="nav nav-tabs my-2">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#viewer">3D Structure Viewer</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#interface_select">Interface Selection</a>
                    </li>
                    <li class="nav-item">
                        <a id="chart_controls_link" class="nav-link" data-toggle="tab" href="#console">Chart Controls</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#explorer">Data Explorer</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div id="viewer" class="tab-pane fade active show" role="tabpanel">
                        <div id="structure_column_wrapper" class="text-center">
                            <div class="centered-block">
                                <div class="fixed-aspect">
                                    <div id="viewport"></div>
                                </div>
                            </div>
                            <div class="form-inline justify-content-center mt-2 mb-2">
                                <button type="button" id="ngl_controls_button" class="btn btn-sm btn-info mr-2 my-1" data-toggle="collapse" data-target="#ngl_controls">Show Controls</button>
                                <button type="button" id="cartoon_toggle_button" class="btn btn-sm btn-primary mr-2 my-1">Hide Cartoon</button>
                                <button type="button" id="hydrogen_toggle_button" class="btn btn-sm btn-primary mr-2 my-1">Show Hydrogens</button>
                                <button type="button" id="image_export" class="btn btn-sm btn-success mr-2 my-1">Save as Image</button>
                                <a id="download_pdb" class="btn btn-sm btn-success my-1">Download Structure File</a>
                            </div>
                            <div id="ngl_controls" class="collapse text-left mt-2">
                                <p><strong>Rotate: </strong>drag + left click</p>
                                <p><strong>Translate: </strong>drag + right click</p>
                                <p><strong>Zoom: </strong>scroll wheel</p>
                                <p>The current DNA-protein interface, as chosen by the user, is shown as opaque and colored by secondary structure. The rest of the structure is rendered transparent.</p>
                            </div>
                        </div>
                    </div>
                    <div id="interface_select" class="tab-pane fade" role="tabpanel">
                        <h4 class="text-center"><strong>Select a DNA-Protein Interface</strong></h4>
                        <p>Use the inputs below to select a particular DNA-protein interface to visualize. By default, only interactions with the DNA major groove, minor groove or bases are shown. To turn on backbone contacts, select specific secondary structure interactions, and set custom interaction criteria, click the <a href="#advanced_options_button" data-toggle="collapse" data-target="#advanced_interface_options" onclick="$('#advanced_options_button').trigger('click');">show advanced options</a> button below.</p>
                        <div class="form-inline">
                            <div class="form-group my-1">
                                <label class="mr-2" for="#model_select"><i class="fa fa-info-circle mr-1" onclick="glossary('model')"></i>model:</label>
                                <select class="form-control form-control-sm mr-2" name="modelNumber" id="model_select"></select>
                            </div>
                            <div class="form-group my-1">
                                <label class="mr-2" for="#entity_select"><i class="fa fa-info-circle mr-1" onclick="glossary('dna_entities')"></i>dna entity:</label>
                                <select class="form-control form-control-sm mr-2" name="entityID" id="entity_select"></select>
                            </div>
                            <div class="form-group my-1">
                                <label class="mr-2" for="#entity_select">protein chains:</label>
                                <select class="form-control form-control-sm mr-2" name="proteinChains" id="protein_chains_select" multiple></select>
                            </div>
                        </div>
                        <div id="advanced_interface_options" class="collapse show mt-2">
                            <div class="form-horizontal">
                                <hr>
                                <h4 class="text-center">Interaction Options</h4>
                                <div class="form-row">
                                    <div class="col-sm-4 my-2 text-right">
                                        <label class="mr-2 ml-2 font-weight-bold"><i class="fa fa-info-circle" onclick="glossary('dna_moieties')"></i> DNA Moieties:</label>
                                    </div>
                                    <div class="col-sm-8 my-2">
                                        <div class="form-inline">
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" value="wg" name="dna_moiety_selection" checked>
                                                <label class="form-check-label">Maj. Groove</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" value="sg" name="dna_moiety_selection" checked>
                                                <label class="form-check-label">Min. Groove</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" value="bs" name="dna_moiety_selection" checked>
                                                <label class="form-check-label">Base</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" value="sr" name="dna_moiety_selection">
                                                <label class="form-check-label">Sugar</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" value="pp" name="dna_moiety_selection">
                                                <label class="form-check-label">Phosphate</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-sm-4 my-2 text-right">
                                        <label class="mr-2 ml-2 font-weight-bold"><i class="fa fa-info-circle" onclick="glossary('sse_types')"></i> SSE Types:</label>
                                    </div>
                                    <div class="col-sm-8 my-2">
                                        <div class="form-inline">
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" value="H" name="sst_selection" checked>
                                                <label class="form-check-label">Helix</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" value="S" name="sst_selection" checked>
                                                <label class="form-check-label">Strand/Sheet</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="checkbox" value="L" name="sst_selection" checked>
                                                <label class="form-check-label">Loop/Turn</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-sm-4 my-2 text-right">
                                        <label class="mr-2 ml-2 font-weight-bold"><i class="fa fa-info-circle" onclick="glossary('marker_represents')"></i> Marker Size Represents:</label>
                                    </div>
                                    <div class="col-sm-8 my-2">
                                        <div class="form-inline">
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="marker_size" value="residue_count" checked>
                                                <label class="form-check-label">residue #</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="marker_size" value="basa">
                                                <label class="form-check-label">BASA</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="marker_size" value="hbonds">
                                                <label class="form-check-label">hbond #</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="marker_size" value="nucleotide_interactions">
                                                <label class="form-check-label">nuc. interaction #</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Interaction Criteria -->
                                <h4 class="text-center"> Interaction Criteria</h4>
                                <p> You may apply custom cut-off values to use for deciding which interactions to draw if you choose "custom" Interaction Criteria below. A nucleotide-residue interaction will be included if it meets the chosen criteria. To ignore a criteria, set it to zero or leave it blank. We reccomend using the default criteria for generic use cases.</p>
                                <div class="form-row">
                                    <div class="col-sm-5 my-2 text-right">
                                        <label class="ml-2 font-weight-bold"><i class="fa fa-info-circle" onclick="glossary('interaction_criteria')"></i> Interaction Criteria:</label>
                                    </div>
                                    <div class="col-sm-7 my-2">
                                        <div class="form-inline">
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" value="default" name="interaction_criteria" checked>
                                                <label class="form-check-label">default</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" value="custom" name="interaction_criteria">
                                                <label class="form-check-label">custom</label>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div id="custom_interaction_inputs">
                                    <div class="form-row">
                                        <div class="col-sm-5 my-2 text-right">
                                            <label class="ml-2 font-weight-bold">Match on:</label>
                                        </div>
                                        <div class="col-sm-7 my-2">
                                            <div class="form-inline">
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" value="all" name="interaction_logic" checked disabled>
                                                    <label class="form-check-label">all criteria</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" value="any" name="interaction_logic" disabled>
                                                    <label class="form-check-label">any criteria</label>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="col-sm-5 my-2 text-right">
                                            <label class="ml-2 font-weight-bold"><i class="fa fa-info-circle" onclick="glossary('weak_interactions')"></i> Include Weak Interactions:</label>
                                        </div>
                                        <div class="col-sm-7 my-2">
                                            <div class="form-inline">
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" value="yes" name="weak_interactions" disabled>
                                                    <label class="form-check-label">yes</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" value="no" name="weak_interactions" checked disabled>
                                                    <label class="form-check-label">no</label>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <label class="col-sm-2"></label>
                                        <label class="col-sm-2 text-center">Maj. Groove</label>
                                        <label class="col-sm-2 text-center">Min. Groove</label>
                                        <label class="col-sm-2 text-center">Base</label>
                                        <label class="col-sm-2 text-center">Sugar</label>
                                        <label class="col-sm-2 text-center">Phosphate</label>
                                    </div>
                                    <div class="form-row">
                                        <label class="col-sm-2 text-right">BASA</label>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="wg" data-criteria="basa" name="basa.wg" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="sg" data-criteria="basa" name="basa.sg" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="bs" data-criteria="basa" name="basa.bs" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="sr" data-criteria="basa" name="basa.sr" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="pp" data-criteria="basa" name="basa.pp" maxlength=8 value="0.0" disabled>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <label class="col-sm-2 text-right">Hbonds</label>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="wg" data-criteria="hbond" name="hbond_sum.wg" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="sg" data-criteria="hbond" name="hbond_sum.sg" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="bs" data-criteria="hbond" name="hbond_sum.bs" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="sr" data-criteria="hbond" name="hbond_sum.sr" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="pp" data-criteria="hbond" name="hbond_sum.pp" maxlength=8 value="0.0" disabled>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <label class="col-sm-2 text-right">VdW</label>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="wg" data-criteria="vdw" name="vdw_sum.wg" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="sg" data-criteria="vdw" name="vdw_sum.sg" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="bs" data-criteria="vdw" name="vdw_sum.bs" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="sr" data-criteria="vdw" name="vdw_sum.sr" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" data-mty="pp" data-criteria="vdw" name="vdw_sum.pp" maxlength=8 value="0.0" disabled>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <label class="col-sm-2"></label>
                                        <label class="col-sm-2 text-center">Minimum</label>
                                        <label class="col-sm-2 text-center">CoM</label>
                                        <label class="col-sm-2 text-center">MNN</label>
                                        <label class="col-sm-2 text-center"></label>
                                        <label class="col-sm-2 text-center"></label>
                                    </div>
                                    <div class="form-row">
                                        <label class="col-sm-2 text-right">Distance</label>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" name="min_distance" data-criteria="distance" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" name="cm_distance" data-criteria="distance" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="text" class="form-control form-control-sm" name="mnn_distance" data-criteria="distance" maxlength=8 value="0.0" disabled>
                                        </div>
                                        <div class="col-sm-4">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="col-sm-4 my-2 text-right">
                                            <label class="mr-2 ml-2 font-weight-bold"><i class="fa fa-info-circle" onclick="glossary('interaction_geometry')"></i> Interaction Geometry:</label>
                                        </div>
                                        <div class="col-sm-8 my-2">
                                            <div class="form-inline">
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="checkbox" value="pseudo_stack" name="geometry" checked disabled>
                                                    <label class="form-check-label">pseudo stacking</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="checkbox" value="pseudo_pair" name="geometry" checked disabled>
                                                    <label class="form-check-label">pseudo pairing</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="checkbox" value="none" name="geometry" checked disabled>
                                                    <label class="form-check-label">other</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <h4 class="text-center my-2">Component Exclusions</h4>
                                <p>Use the checklists below to select individual residues, nucleotides or SSEs you wish to exclude from the current visualizations. Note: nucleotides will still be drawn, but any interactions with exlcuded nucleotides will be ignored, which may remove additional residues.</p>
                                <div class="form-inline justify-content-center">
                                    <div class="form-group my-1">
                                        <label class="mr-2">Nucleotides:</label>
                                        <div class="mr-2">
                                            <select name="excluded_nucleotides" id="exclude_nucleotide_select" multiple></select>
                                        </div>
                                    </div>
                                    <div class="form-group my-1">
                                        <label class="mr-2">Residues:</label>
                                        <div class="mr-2">
                                            <select name="excluded_residues" id="exclude_residue_select" multiple></select>
                                        </div>
                                    </div>
                                    <div class="form-group my-1">
                                        <label class="mr-2">SSEs:</label>
                                        <div class="mr-2">
                                            <select name="excluded_sse" id="exclude_sse_select" multiple></select>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                            </div>
                        </div>
                        <div class="form-inline justify-content-center my-2">
                            <button type="button" id="advanced_options_button" class="btn btn-sm btn-info mr-2" data-toggle="collapse" data-target="#advanced_interface_options">hide advanced options</button>
                            <button class="btn btn-danger btn-sm mr-2" id="plot_button">visualize interface</button>
                        </div>
                    </div>
                    <div id="console" class="tab-pane fade" role="tabpanel">
                        <ul class="nav nav-tabs d-none">
                            <li class="nav-item">
                                <a id="lcm_console_link" class="nav-link" data-toggle="tab" href="#lcm_console" role="tab"></a>
                            </li>
                            <li class="nav-item">
                                <a id="pcm_console_link" class="nav-link" data-toggle="tab" href="#pcm_console" role="tab"></a>
                            </li>
                            <li class="nav-item">
                                <a id="sop_console_link" class="nav-link" data-toggle="tab" href="#sop_console" role="tab"></a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div id="lcm_console" class="tab-pane fade active show">
                                <h4 class="text-center"><strong>Residue Contact Map Controls</strong></h4>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">layout type:</label>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="layout_type" value="radial" checked>
                                        <label class="form-check-label">radial</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="layout_type" value="circular">
                                        <label class="form-check-label">circular</label>
                                    </div>
                                    <button class="btn btn-danger btn-sm ml-2" id="lcm_layout_button" style="vertical-align:middle;">update</button>
                                </div>
                                <hr>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">force-directed layout:</label>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" id="lcm_on_button" type="radio" name="toggle" value="on" checked>
                                        <label class="form-check-label">on</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" id="lcm_off_button" type="radio" name="toggle" value="off">
                                        <label class="form-check-label">off</label>
                                    </div>
                                </div>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">indicate hydrogen bonds:</label>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" value="yes" name="show_hbonds">
                                        <label class="form-check-label">yes</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" value="no" name="show_hbonds" checked>
                                        <label class="form-check-label">no</label>
                                    </div>
                                </div>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">rotate plot:</label>
                                    <input id="lcm_plot_rotation_slider" type="range" min="-180" max="180" value="0" step="5" />
                                </div>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">rotate labels:</label>
                                    <input id="lcm_label_rotation_slider" type="range" min="-180" max="180" value="0" step="5" />
                                </div>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">scale labels:</label>
                                    <input id="lcm_label_scale_slider" type="range" min="0.3" max="3.0" value="1.0" step="0.1" />
                                </div>
                                <div class="form-inline mb-2">
                                    <button class="btn btn-primary btn-sm mr-2 my-1" id="lcm_reflectX_button" type="button">reflect X</button>
                                    <button class="btn btn-primary btn-sm mr-2 my-1" id="lcm_reflectY_button" type="button">reflect Y</button>
                                    <button class="btn btn-primary btn-sm mr-2 my-1" id="lcm_legend_button" type="button">hide legend</button>
                                    <button class="btn btn-primary btn-sm mr-2 my-1" id="lcm_grid_button" type="button">show grid</button>
                                    <button class="btn btn-primary btn-sm mr-2 my-1" id="lcm_residues_button" type="button">hide residues</button>
                                    <button class="btn btn-primary btn-sm mr-2 my-1" id="lcm_selected_button" type="button">hide selected components</button>
                                </div>
                                <div class="form-inline mb-2">
                                    <button class="btn btn-success btn-sm mr-2" id="lcm_save_button" type="button">save as image</button>
                                    <button class="btn btn-danger btn-sm mr-2" id="lcm_reset_button" type="button">reset</button>
                                </div>
                            </div>
                            <div id="sop_console" class="tab-pane fade">
                                <h4 class="text-center"><strong>Shape Overlay Plot Controls</strong></h4>
                                <div class="form-inline mb-2">
                                    <label class="mr-2" for="#helix_select">select helix:</label>
                                    <select class="form-control form-control-sm mr-2" name="sop_helix_selection" id="sop_helix_select"></select>
                                </div>
                                <div class="form-inline mb-2">
                                    <label class="mr-2" for="#shape_parameter_select">select shape parameter:</label>
                                    <select class="form-control form-control-sm mr-2" name="shape_parameter" id="shape_parameter_select">
                                        <option value="minor_groove_3dna" selected>min. grv. width (3dna)</option>
                                        <option value="major_groove_3dna">maj. grv. width (3dna)</option>
                                        <option value="minor_groove_curves">min. grv. width (curves)</option>
                                        <option value="major_groove_curves">maj. grv. width (curves)</option>
                                        <option value="buckle">buckle</option>
                                        <option value="opening">opening</option>
                                        <option value="propeller">propeller</option>
                                        <option value="rise">rise</option>
                                        <option value="roll">roll</option>
                                        <option value="shear">shear</option>
                                        <option value="shift">shift</option>
                                        <option value="slide">slide</option>
                                        <option value="stagger">stagger</option>
                                        <option value="stretch">stretch</option>
                                        <option value="tilt">tilt</option>
                                        <option value="twist">twist</option>
                                    </select>
                                </div>
                                <div class="form-check form-check-inline mb-2">
                                    <input class="form-check-input" type="checkbox" id="reverse_strands_check" value="true">
                                    <label class="form-check-label" for="reverseStrandsCheck">reverse sequence</label>
                                    <button class="btn btn-danger btn-sm ml-2" id="sop_plot_button" style="vertical-align:middle;">update</button>
                                </div>
                                <hr>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">scale labels:</label>
                                    <input id="sop_label_scale_slider" type="range" min="0.7" max="3.0" value="1.0" step="0.1" />
                                </div>
                                <div class="form-inline mb-2">
                                    <button class="btn btn-primary btn-sm mr-2" id="flip_strands_button" type="button">flip strands</button>
                                    <button class="btn btn-primary btn-sm mr-2" id="sop_legend_button" type="button">hide legend</button>
                                    <button class="btn btn-primary btn-sm mr-2" id="sop_grid_button" type="button">hide grid</button>
                                    <button class="btn btn-primary btn-sm mr-2" id="sop_residues_button" type="button">hide residues</button>
                                </div>
                                <div class="form-inline mb-2">
                                    <button class="btn btn-success btn-sm mr-2" id="sop_save_button" type="button">save as image</button>
                                </div>
                            </div>
                            <div id="pcm_console" class="tab-pane fade">
                                <h4 class="text-center"><strong>Helical Contact Map Controls</strong></h4>
                                <div class="form-inline mb-2">
                                    <label class="mr-2" for="#helix_select">select a helix:</label>
                                    <select class="form-control form-control-sm mr-2" name="pcm_helix_selection" id="pcm_helix_select"></select>
                                    <div class="form-check form-check-inline">
                                        <button class="btn btn-danger btn-sm ml-2" id="pcm_plot_button" style="vertical-align:middle;">update</button>
                                    </div>
                                </div>
                                <hr>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">rotate plot:</label>
                                    <input id="pcm_rotation_slider" type="range" min="-180" max="180" value="0" step="10" />
                                </div>
                                <div class="form-inline mb-2">
                                    <label class="mr-2">scale labels:</label>
                                    <input id="pcm_label_scale_slider" type="range" min="0.7" max="3.0" value="1.0" step="0.1" />
                                </div>
                                <div class="form-inline mb-2">
                                    <button class="btn btn-primary btn-sm mr-2" id="pcm_legend_button" type="button">hide legend</button>
                                    <button class="btn btn-primary btn-sm mr-2" id="pcm_grid_button" type="button">hide grid</button>
                                    <button class="btn btn-success btn-sm mr-2" id="pcm_save_button" type="button">save as image</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-inline mb-3">
                            <label class="mr-2">toggle tooltips:</label>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" id="tooltip_on_button" type="radio" name="tooltip_toggle" value="on" checked>
                                <label class="form-check-label">on</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" id="tooltip_off_button" type="radio" name="tooltip_toggle" value="off">
                                <label class="form-check-label">off</label>
                            </div>
                        </div>
                        <ul class="nav nav-tabs" style="margin-bottom:5px;margin-top:10px;">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#label_opts">Label Options</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#color_opts">Color Options</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div id="label_opts" class="tab-pane fade active show">
                                <!-- Labeling options -->
                                <h4 class="text-center">Customize Labels</h4>
                                <p>You can apply custom label formats to individual chains below, or to all DNA or Protein chains. Blank fields are ignored. To change the labels of individual nucleotides, residues or SSEs, simply double-click a label in the visualization charts.</p>
                                <div class="form-group">
                                    <h5 class="text-center">Nucleotide Labels</h5>
                                    <div id="nucleotide_label_rows" class="mb-4"></div>
                                    <h5 class="text-center">Residue Labels</h5>
                                    <div id="residue_label_rows" class="mb-4"></div>
                                    <h5 class="text-center" class="mt-4">SSE Labels</h5>
                                    <div id="sse_label_rows"></div>
                                </div>
                                <div class="form group text-center">
                                    <button class="btn btn-danger mt-2 mr-2" id="update_labels_button">update labels</button>
                                </div>
                            </div>

                            <div id="color_opts" class="tab-pane fade">
                                <!-- Coloring options -->
                                <h4 class="text-center">Protein Secondary Structure Colors</h4>
                                <p>You can apply custom color schemes to each individual protein chain in the structure, or apply a new secondary structure color scheme to all chains using the inputs below.</p>
                                <div class="form-group">
                                    <div class="form-inline">
                                        <label class="mr-2 font-weight-bold">All chains same colors: </label>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" value="off" name="all_chain_colors" checked>
                                            <label class="form-check-label">no</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" value="on" name="all_chain_colors">
                                            <label class="form-check-label">yes</label>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="col-sm-5"></div>
                                        <div class="col-sm-7">
                                            <div class="form-row">
                                                <label class="col-sm-4">Helix</label>
                                                <label class="col-sm-4">Strand/Sheet</label>
                                                <label class="col-sm-4">Loop/Turn</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="protein_all_color_row" class="form-row">
                                        <hr>
                                        <div class="col-sm-5 text-right">
                                            All chain colors:
                                        </div>
                                        <div class="col-sm-7">
                                            <div class="form-row">
                                                <div class="col-sm-4">
                                                    <input type="color" value="#ff0000" name="H" data-chain="_" disabled>
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="color" value="#49e20e" name="S" data-chain="_" disabled>
                                                </div>
                                                <div class="col-sm-4">
                                                    <input type="color" class="disabled" value="#003eff" name="L" data-chain="_" disabled>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                    <div id="protein_color_rows" class="mb-4"></div>
                                </div>
                                <div class="form group text-center">
                                    <button class="btn btn-danger mt-2 mr-2" id="update_colors_button">update colors</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="explorer" class="tab-pane fade" role="tabpanel">
                        <h4 class="text-center"><strong>Data Explorer</strong></h4>
                        <p>Below you can explore the DNAproDB data file for this structure. Click on the items below to expand them and reveal further items. Explanations of these features are available from the <a href="/documentation.html#data-format">documentation page</a>. Click the download button to download the data file or use the select box to find and view a particular data item.
                        </p>
                        <div class="text-center">
                            <label class="font-weight-bold" id="data_item_label"></label>
                        </div>
                        <div class="form-inline">
                            <div class="form-group my-1">
                                <select class="form-control form-control-sm mr-1" name="data_item" id="data_item_select">
                                    <option value=""></option>
                                    <option value="nuc">nucleotide</option>
                                    <option value="res">residue</option>
                                    <option value="int">nuc-res interaction</option>
                                    <option value="ent">DNA entity</option>
                                    <option value="helix">DNA helix</option>
                                    <option value="pro_chain">protein chain</option>
                                </select>
                            </div>
                            <div class="form-group my-1" id="data_item_search_group"></div>
                            <div class="form-group my-1">
                                <button class="btn btn-sm btn-primary mr-1" id="data_item_search_button">find <i class="fa fa-search"></i></button>
                                <a id="json_download_link" class="btn btn-sm btn-success mr-1">download data</a>
                            </div>
                            <div class="form-group my-1">
                                <span class="alert-danger" id="data_search_error"></span>
                            </div>
                        </div>
                        <hr>
                        <div id="json_data_explorer" style="overflow-x: auto;"></div>
                    </div>
                </div>
            </div>
            <!-- Right Column -->
            <div class="col-xl-7 col-lg-12">
                <ul class="nav nav-tabs my-2">
                    <li class="nav-item">
                        <a id="lcm_link" class="nav-link active" data-toggle="tab" href="#lcm" role="tab">Residue Contact Map</a>
                    </li>
                    <li class="nav-item">
                        <a id="pcm_link" class="nav-link" data-toggle="tab" href="#pcm" role="tab">Helical Contact Map</a>
                    </li>
                    <li class="nav-item">
                        <a id="sop_link" class="nav-link" data-toggle="tab" href="#sop" role="tab">Helical Shape Overlay</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <h6 class="text-center my-2">
                        <label class="mr-2">DNA moiety selection: <span id="dna_moiety_selection" class="font-weight-bold"></span></label>
                        <label class="mr-2">protein SST selection: <span id="protein_sst_selection" class="font-weight-bold"></span></label>
                        <label class="mr-2">interaction criteria: <span id="interaction_criteria_selection" class="font-weight-bold"></span></label>
                    </h6>
                    <div id="lcm" class="tab-pane fade show active" role="tabpanel">
                        <div class="text-center">
                            <div id="lcm_plot" class="visualization"></div>
                        </div>
                        <div>
                            <p>The <span class="font-italic">Residue Contact Map</span> shows individual nucleotide-residue interactions, DNA secondary structure, protein secondary structure and DNA interaction moieties. The DNA is displayed as a graph, with nucleotides being nodes and edges between them indicating backbone links, base pairing or base stacking. Different base pairing geometries are indicated via the base-pair edges, and other structural features such as backbone breaks, missing phosphates, and the DNA strand sense are represented. Protein residues are displayed as small nodes with the node shape and color representing residue secondary structur. Edges between residue and nucleotide nodes represent an interaction between the two and which DNA moiety(s) the interaction involves.
                            </p>
                            <p>
                                Use the <a href="#chart_controls_link" onclick='$("#chart_controls_link").tab("show");'>chart controls</a> at the top left to modify labels, change the color scheme, rotate the plot, export it as a PNG file and more. You can also
                                <ul>
                                    <li><strong>Click</strong> to select individual residues or nucleotides and highlight them in the 3D view (hold SHIFT for multiple selections)</li>
                                    <li><strong>Double Click</strong> on labels to re-name them</li>
                                    <li><strong>Drag</strong> components to reposition them</li>
                                    <li><strong>Scroll</strong> to zoom in or out on the plot</li>
                                    <li><strong>Hover</strong> above residues, nucleotides or interaction lines to display additional information (can be toggled off in chart controls)</li>
                                </ul>
                            </p>
                        </div>
                    </div>
                    <div id="pcm" class="tab-pane fade" role="tabpanel">
                        <div class="text-center">
                            <div id="pcm_plot" class="visualization"></div>
                        </div>
                        <div>
                            <p>The <span class="font-italic">Helical Contact Map</span> plots protein secondary structural elements (SSE) interactions along the helical axis for a selected DNA helix. Interactions of SSEs with different DNA moieties are represented in concentric annuli and the position of each plotted SSE is given in helicoidal coordinates; a curvilinear coordinate system defined by the axis of a helical DNA segment.
                            </p>
                            <p>
                                Use the <a href="#chart_controls_link" onclick='$("#chart_controls_link").tab("show");'>chart controls</a> at the top left to modify labels, change the color scheme, rotate the plot, export it as a PNG file and more. You can also
                                <ul>
                                    <li><strong>Click</strong> to select individual residues or SSE and highlight them in the 3D view (hold SHIFT for multiple selections)</li>
                                    <li><strong>Double Click</strong> on labels to re-name them</li>
                                    <li><strong>Hover</strong> above a SSE to display additional information</li>
                                    <li><strong>Drag</strong> text labels to reposition them.</li>
                                </ul>
                            </p>
                        </div>
                    </div>
                    <div id="sop" class="tab-pane fade" role="tabpanel">
                        <div class="text-center">
                            <div id="sop_plot" class="visualization"></div>
                            <div id="sop_warning"></div>
                        </div>
                        <div>
                            <p>The <span class="font-italic">Helical Shape Plot</span> plots DNA shape parameters (such as major and minor groove width, or helical parameters) for a selected helix along the sequence of the helix. In addition, DNA-protein residue interactions are plotted showing approximately where each residue in the interface interacts along the DNA sequence and the secondary structure of that residue. Protein residue interactions can be toggled off if only DNA shape parameters are desired, or they can be displayed to indicate possible DNA shape readout, such as the presence of positively charged residues in regions of narrow minor groove width.</p>
                            <p>
                                Use the <a href="#chart_controls_link" onclick='$("#chart_controls_link").tab("show");'>chart controls</a> at the top left to modify labels, change the color scheme, rotate the plot, export it as a PNG file and more. You can also
                                <ul>
                                    <li><strong>Click</strong> to select individual residues and highlight them in the 3D view (hold SHIFT for multiple selections)</li>
                                    <li><strong>Double Click</strong> on labels to re-name them</li>
                                    <li><strong>Hover</strong> above residues to display additional information</li>
                                    <li><strong>Drag</strong> text labels to reposition them.</li>
                                </ul>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="container-fluid px-5">
            <div id="citation_table_wrapper"></div>
            <p>Current model selection: <strong><span id="current_model2"></span></strong></p>
            <!-- protein tables -->
            <h4 class="text-center">Protein Chain Information</h4>
            <div class="table-responsive">
                <table class="table table-sm nw">
                    {% if pdb_structure == "true" %}
                    <thead class="pro">
                        <th class="align-middle">Chain ID</th>
                        <th class="align-middle">A.U. ID <span class="glyphicon glyphicon-question-sign glossary" title="Asymmetric Unit Chain Id" data-toggle="popover" data-trigger="hover" data-content="The chain id of the parent chain in the asymmetric unit (AU). Often, chains contained in the biological assembly are generated from some symmetry operation on the asymmetric unit. In order to conform to the PDB standard, each chain must be assigned a unique single character identifier in the structure. New chains generated from symmetry operations are assigned an arbitarty identifier, and this field specifies which chain in the AU the child chain was generated from. If the Chain Id and AU Id are the same, then the coordinates are those in the AU."></span></th>
                        <th class="align-middle">Uniprot ID(s)</th>
                        <th class="align-middle">CATH ID(s)</th>
                        <th class="align-middle">Molecular
                            <br>Function</th>
                        <th class="align-middle">Biological
                            <br>Process</th>
                        <th class="align-middle">Cellular
                            <br>Component</th>
                        <th class="align-middle">Protein
                            <br>Name(s)</th>
                        <th class="align-middle">Source
                            <br>Organism</th>
                        <th class="align-middle">Sequence</th>
                        <th class="align-middle">Sequence
                            <br>Length</th>
                        <th class="align-middle">Secondary
                            <br>Structure </th>
                        <th class="align-middle">Chain
                            <br>Segments</th>
                    </thead>
                    {% else  %}
                    <thead class="pro">
                        <th class="align-middle">Chain ID</th>
                        <th class="align-middle">A.U. ID <span class="glyphicon glyphicon-question-sign glossary" title="Asymmetric Unit Chain Id" data-toggle="popover" data-trigger="hover" data-content="The chain id of the parent chain in the asymmetric unit (AU). Often, chains contained in the biological assembly are generated from some symmetry operation on the asymmetric unit. In order to conform to the PDB standard, each chain must be assigned a unique single character identifier in the structure. New chains generated from symmetry operations are assigned an arbitarty identifier, and this field specifies which chain in the AU the child chain was generated from. If the Chain Id and AU Id are the same, then the coordinates are those in the AU."></span></th>
                        <th class="align-middle">Sequence</th>
                        <th class="align-middle">Sequence
                            <br>Length</th>
                        <th class="align-middle">Secondary
                            <br>Structure </th>
                        <th class="align-middle">Chain
                            <br>Segments</th>
                    </thead>
                    {% endif %}
                    
                    <tbody id="protein_chain_table">
                    </tbody>
                </table>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <!-- chain segment table -->
                    <h4 class="text-center"><i class="fa fa-info-circle" onclick="glossary('protein_chain_segments')"></i> Protein Chain Segments</h4>
                    <div class="table-responsive">
                        <table class="table table-sm nw">
                            <thead class="pro">
                                <th class="align-middle">Segment ID</th>
                                <th class="align-middle">Length</th>
                                <th class="align-middle">N-terminal
                                    <br>Residue</th>
                                <th class="align-middle">C-terminal
                                    <br>Residue</th>
                            </thead>
                            <tbody id="protein_segment_table">
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-sm-6">
                    <!-- entity table -->
                    <h4 class="text-center"><i class="fa fa-info-circle" onclick="glossary('protein_entities')"></i> Protein Entities</h4>
                    <div class="table-responsive">
                        <table class="table table-sm nw">
                            <thead class="pro">
                                <th class="align-middle">Entity ID</th>
                                <th class="align-middle"># Residues</th>
                                <th class="align-middle"># Segments</th>
                                <th class="align-middle">Chain
                                    <br>Segments</th>
                            </thead>
                            <tbody id="protein_entity_table">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <hr>
            <!-- dna tables -->
            <h4 class="text-center"><i class="fa fa-info-circle" onclick="glossary('dna_entities')"></i> DNA Entities</h4>
            <div class="table-responsive">
                <table id="dna_overview_table" class="table table-sm nw">
                    <thead class="dna">
                        <th class="align-middle">Entity ID</th>
                        <th class="align-middle">Type</th>
                        <th class="align-middle">Nucleotides</th>
                        <th class="align-middle">Base Pairs</th>
                        <th class="align-middle">Strands</th>
                        <th class="align-middle">Helices</th>
                        <th class="align-middle">Single-Stranded
                            <br>Segments</th>
                    </thead>
                    <tbody id="dna_entity_table">
                    </tbody>
                </table>
            </div>
            <h4 class="text-center"><i class="fa fa-info-circle" onclick="glossary('dna_strand')"></i> DNA Strands</h4>
            <div class="table-responsive">
                <table id="dna_overview_table" class="table table-sm nw">
                    <thead class="dna">
                        <th class="align-middle">Parent
                            <br>Entity</th>
                        <th class="align-middle">Strand ID</th>
                        <th class="align-middle">Length</th>
                        <th class="align-middle">5' Nucleotide</th>
                        <th class="align-middle">3' Nucleotide</th>
                        <th class="align-middle">Sequence</th>
                        <th class="align-middle">GC Content</th>
                        <th class="align-middle">Protein Bound</th>
                    </thead>
                    <tbody id="dna_strand_table">
                    </tbody>
                </table>
            </div>
            <div id="dna_helix_table_wrapper">
                <h4 class="text-center">DNA Helices</h4>
                <div class="table-responsive">
                    <table id="dna_overview_table" class="table table-sm nw">
                        <thead class="dna">
                            <th class="align-middle">Parent
                                <br>Entity</th>
                            <th class="align-middle">Helix ID</th>
                            <th class="align-middle">Sequence</th>
                            <th class="align-middle">Length</th>
                            <th class="align-middle">Conformation</th>
                            <th class="align-middle">A-tracts?</th>
                            <th class="align-middle">Mismatches?</th>
                            <th class="align-middle">Non-WC
                                <br>Basepairs?</th>
                            <th class="align-middle">GC
                                <br>Content</th>
                            <th class="align-middle">Mean
                                <br>Radius</th>
                            <th class="align-middle">Axis
                                <br>Curvature</th>
                            <th class="align-middle">Axis
                                <br>Length [&#8491;]</th>
                        </thead>
                        <tbody id="dna_helix_table">
                        </tbody>
                    </table>
                </div>
            </div>
            <hr>
            <!-- interface tables -->
            <h4 class="text-center">DNA-protein Interfaces</h4>
            <div class="table-responsive">
                <table id="interface_overview_table" class="table table-sm nw">
                    <thead class="int">
                        <th class="align-middle">DNA Entity ID</th>
                        <th class="align-middle">Pro. Chain ID</th>
                        <th class="align-middle">Pro. Chain
                            <br>Segments</th>
                        <th class="align-middle">Nuc-Res
                            <br>Interactions</th>
                        <th class="align-middle">Weak Nuc-Res
                            <br>Interactions</th>
                        <th class="align-middle">Total BASA [&#8491;&#178;]</th>
                        <th class="align-middle">Total Hbonds</th>
                        <th class="align-middle">Total vdW</th>
                        <th class="align-middle">Hydrophobicity
                            <br>Score (SAP)</th>
                        <th class="align-middle">Secondary Structure
                            <br>Composition</th>
                    </thead>
                    <tbody id="interfaces_table">
                    </tbody>
                </table>
            </div>
        </div>
        <svg class="hidden_svg">
            <g class="label">
                <text id="test_text">ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</text>
            </g>
        </svg>
        <div class="card hidden_label_input" id="label_input_div">
            <div class="card-header text-white bg-dark">
                Customize Label
            </div>
            <div class="card-body">
                <div class="form-group form-inline">
                    <label class="mr-2" for="#label_input">enter a new label:</label>
                    <input type="text" class="form-control form-control-sm mr-2" id="label_input">
                    <button class="btn btn-success btn-sm mr-2" id="label_input_submit_button" type="button">ok</button>
                    <button class="btn btn-danger btn-sm mr-2" id="label_input_cancel_button" type="button">cancel</button>
                </div>
            </div>
        </div>
        <div class="tooltip card p-0"></div>
    </main>
    {{foot}} {{option_templates}}

    <!-- D3.js Code -->
    <script src="https://d3js.org/d3.v5.js"></script>

    <!-- JQuery, Popper and Bootstap -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- Sumoselect Multiselect Plugin -->
    <script type="text/javascript" src="/js/jquery.sumoselect.min.js"></script>

    <!-- JSON Viewer Plugin -->
    <script type="text/javascript" src="/js/big-json-viewer.js"></script>

    <!-- FileSaver Plugin -->
    <script type="text/javascript" src="/js/FileSaver.min.js"></script>

    <!-- SVG to PNG Script -->
    <script type="text/javascript" src="/js/saveSvgAsPng.js"></script>

    <!-- Handlebars Code -->
    <script type="text/javascript" src="/js/handlebars.min-latest.js"></script>

    <!-- NGL Viewer Library -->
    <script type="text/javascript" src="/js/ngl.js"></script>

    <!-- KDTree Library -->
    <script type="text/javascript" src="/js/kdTree.min.js"></script>

    <!-- Store required Global variables -->
    <script type="text/javascript">
        $('[data-toggle="popover"]').popover({
            container: 'body'
        });
        var JSON_URL = "{{json_url}}";
        var PDB_URL = "{{pdb_url}}";
        var STRUCTURE_TITLE = "{{structure_title}}";
        var STRUCTURE_ID = "{{structure_id}}";
        var PDB_STRUCTURE = "{{pdb_structure}}" == "true";

        $("#structure_name").text(STRUCTURE_TITLE);
    </script>

    <!-- Handblebar templates -->
    {{tooltip_templates}} 
    {{overview_templates}}
    {% raw %}
    <script id="data_fields_template" type="text/x-handlebars-template">
        {{#if models}}
            <select class="form-control form-control-sm mr-1" name="data_item_model" id="data_item_model_select">
                {{#each models}}
                    <option value="{{this}}">{{this}}</option>
                {{/each}}
            </select>
        {{/if}}
        <input type="text" class="form-control form-control-sm mr-1" placeholder="{{ph1}}" name={{name1}} maxlength="{{max1}}" style="{{style1}}" onfocus='$("#data_search_error").text("");'>
        {{#if ph2}}
            <input type="text" class="form-control form-control-sm mr-1" placeholder="{{ph2}}" name={{name2}} maxlength="{{max2}}" style="{{style2}}" onfocus='$("#data_search_error").text("");'>
        {{/if}}
    </script>
    {% endraw %}
    
    <!-- Custom Code -->
    <script src="/js/ngl_viewer_functions_nm.js" type="text/javascript "></script>
    <script src="/js/visualizations.js?v=1559942732" type="text/javascript "></script>
    <script src="/js/report.js?v=1559942751" type="text/javascript "></script>
    
    {% else %}
    <div class="container">
        {{message}}
    </div>
    {{foot}}
    <!-- JQuery, Popper and Bootstap -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    {% endif %}
</body>

</html>